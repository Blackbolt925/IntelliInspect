<app-stepper [activeStep]="3"></app-stepper>

<h2>Model Training & Evaluation</h2>

<div class="center-box">
  <button mat-raised-button color="primary" (click)="trainModel()" [disabled]="training || trained">
    Train Model
  </button>
  <p *ngIf="statusMsg" class="status">{{ statusMsg }}</p>
</div>

<div *ngIf="trained && metrics" class="metrics-cards">
  <mat-card class="metric">Accuracy<br><strong>{{ metrics.accuracy }}%</strong></mat-card>
  <mat-card class="metric">Precision<br><strong>{{ metrics.precision }}%</strong></mat-card>
  <mat-card class="metric">Recall<br><strong>{{ metrics.recall }}%</strong></mat-card>
  <mat-card class="metric">F1-Score<br><strong>{{ metrics.f1Score }}%</strong></mat-card>
  <mat-card class="metric">MCC<br><strong>{{ metrics.mcc }}</strong></mat-card>
</div>

<div class="charts-container" *ngIf="trained">
  <div class="chart">
    <h4>Training & Testing Loss</h4>
    <canvas baseChart
      [data]="lineChartData"
      [options]="lineChartOptions"
      chartType="line">
    </canvas>
  </div>

  <div class="chart">
    <h4>Confusion Matrix</h4>
    <canvas baseChart
      [data]="donutChartData"
      [options]="donutOptions"
      chartType="doughnut">
    </canvas>
  </div>
</div>

<div class="next-action">
  <button mat-raised-button color="accent" (click)="next()">Next</button>
</div>